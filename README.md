# Cursor Bridge

ğŸš€ ä¸€é”®å¯åŠ¨çš„ OpenAI å…¼å®¹ Cursor.com API æ¡¥æ¥æœåŠ¡

## âœ¨ ç‰¹æ€§

- ğŸ”Œ **ä¸€é”®å¯åŠ¨**: è¿è¡Œ `npm start` å³å¯ï¼Œè‡ªåŠ¨å¤„ç†æµè§ˆå™¨å’Œè„šæœ¬æ³¨å…¥
- ğŸŒ **OpenAI å…¼å®¹**: æä¾›æ ‡å‡†çš„ `/v1/chat/completions` æ¥å£
- ğŸ¤– **å¤šæ¨¡å‹æ”¯æŒ**: Claude Sonnet 4, Opus 4.1, GPT-5, Gemini 2.5 Pro, DeepSeek V3.1
- ğŸ“¡ **æµå¼å“åº”**: æ”¯æŒ Server-Sent Events å®æ—¶æµå¼è¾“å‡º
- ğŸ¯ **æ™ºèƒ½æ³¨å…¥**: è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å¹¶æ³¨å…¥æ¡¥æ¥è„šæœ¬
- ğŸ›¡ï¸ **å®¹é”™å¤„ç†**: è‡ªåŠ¨æ£€æµ‹éªŒè¯é¡µé¢ï¼Œæ”¯æŒæ‰‹åŠ¨å¤„ç†åç»§ç»­

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. ä¸€é”®å¯åŠ¨
```bash
npm start
```

å°±è¿™ä¹ˆç®€å•ï¼æœåŠ¡å™¨ä¼šè‡ªåŠ¨ï¼š
- å¯åŠ¨ API æœåŠ¡å™¨ (ç«¯å£ 8000)
- æ‰“å¼€æµè§ˆå™¨çª—å£
- å¯¼èˆªåˆ° https://cursor.com/cn/learn
- è‡ªåŠ¨æ³¨å…¥æ¡¥æ¥è„šæœ¬

### 3. å¤„ç†éªŒè¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
å¦‚æœé‡åˆ°äººæœºéªŒè¯æˆ–éœ€è¦ç™»å½•ï¼Œåœ¨è‡ªåŠ¨æ‰“å¼€çš„æµè§ˆå™¨çª—å£ä¸­å®Œæˆå³å¯ã€‚

### 4. å¼€å§‹ä½¿ç”¨
ç°åœ¨å¯ä»¥ä½¿ç”¨æ ‡å‡† OpenAI API æ ¼å¼è°ƒç”¨ï¼š

```bash
curl -X POST http://localhost:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "claude-sonnet-4-20250514",
    "messages": [{"role": "user", "content": "ä½ å¥½"}],
    "stream": true
  }'
```

## âš™ï¸ é…ç½®é€‰é¡¹

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶ä¿®æ”¹é…ç½®ï¼š

```bash
# æœåŠ¡å™¨ç«¯å£
PORT=8000

# æ˜¯å¦å¯ç”¨è‡ªåŠ¨æµè§ˆå™¨
AUTO_BROWSER=false  # true: è‡ªåŠ¨æ¨¡å¼, false: æ‰‹åŠ¨æ¨¡å¼

# æ˜¯å¦ä»¥æ— å¤´æ¨¡å¼è¿è¡Œæµè§ˆå™¨
HEADLESS=false      # true: æ— å¤´æ¨¡å¼, false: å¯è§†æ¨¡å¼

# æ˜¯å¦å¯ç”¨è°ƒè¯•æ—¥å¿—
DEBUG=false         # true: è¯¦ç»†æ—¥å¿—, false: åŸºæœ¬æ—¥å¿—
```

### ğŸ“‹ ä½¿ç”¨åœºæ™¯é…ç½®

| åœºæ™¯ | AUTO_BROWSER | HEADLESS | DEBUG | è¯´æ˜ |
|------|-------------|----------|-------|------|
| **æœ¬åœ°å¼€å‘** | `true` | `false` | `true` | æ¨èé…ç½®ï¼Œå¯è§†åŒ–è°ƒè¯• |
| **æœåŠ¡å™¨éƒ¨ç½²** | `true` | `true` | `false` | ç”Ÿäº§ç¯å¢ƒï¼Œç¨³å®šè¿è¡Œ |
| **Docker å®¹å™¨** | `true` | `true` | `true` | å®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¾¿äºç›‘æ§ |
| **æ‰‹åŠ¨æ¨¡å¼** | `false` | `false` | `false` | å®Œå…¨æ‰‹åŠ¨æ§åˆ¶ |

### ğŸš€ å¯åŠ¨æ–¹å¼

```bash
# é»˜è®¤å¯åŠ¨ (è¯»å– .env é…ç½®)
npm start

# è‡ªåŠ¨æ¨¡å¼ (æœ‰ç•Œé¢)
npm run start:auto

# æ‰‹åŠ¨æ¨¡å¼
npm run start:manual

# æ— å¤´æ¨¡å¼ (é€‚ç”¨äºæœåŠ¡å™¨)
npm run start:headless

# Docker æ¨¡å¼ (æ— å¤´+è°ƒè¯•)
npm run start:docker
```

## ğŸ”§ æ‰‹åŠ¨æ¨¡å¼

å¦‚æœè‡ªåŠ¨æ¨¡å¼å¤±è´¥ï¼Œå¯ä»¥è®¾ç½® `AUTO_BROWSER=false` æˆ–ä½¿ç”¨æ‰‹åŠ¨æ¨¡å¼ï¼š

1. è®¿é—® http://localhost:8000 æŸ¥çœ‹è¯¦ç»†è¯´æ˜
2. æ‰‹åŠ¨æ‰“å¼€ https://cursor.com/cn/learn
3. åœ¨æ§åˆ¶å°è¿è¡Œæ³¨å…¥è„šæœ¬

## ğŸ“š æ”¯æŒçš„æ¨¡å‹

### Claude ç³»åˆ—
- `claude-sonnet-4-20250514` (é»˜è®¤)
- `claude-opus-4-1-20250805`
- `claude-opus-4-20250514`
- `claude-3.5-sonnet`
- `claude-3.5-haiku`
- `claude-3.7-sonnet`
- `claude-4-sonnet`
- `claude-4-opus`
- `claude-4.1-opus`

### GPT ç³»åˆ—
- `gpt-5`
- `gpt-5-codex`
- `gpt-5-mini`
- `gpt-5-nano`
- `gpt-4.1`
- `gpt-4o`
- `o3`
- `o4-mini`

### Gemini ç³»åˆ—
- `gemini-2.5-pro`
- `gemini-2.5-flash`

### DeepSeek ç³»åˆ—
- `deepseek-v3.1`
- `deepseek-r1`

### å…¶ä»–æ¨¡å‹
- `kimi-k2-instruct`
- `grok-3`
- `grok-3-mini`
- `grok-4`

## ğŸ” æ•…éšœæ’é™¤

### æœ¬åœ°è¿è¡Œ
- **æµè§ˆå™¨æœªæ‰“å¼€**: æ£€æŸ¥æ˜¯å¦å®‰è£…äº† Chrome/Chromium
- **æ³¨å…¥å¤±è´¥**: å°è¯•æ‰‹åŠ¨æ¨¡å¼æˆ–æ£€æŸ¥ç½‘ç»œè¿æ¥
- **éªŒè¯é—®é¢˜**: åœ¨è‡ªåŠ¨æ‰“å¼€çš„æµè§ˆå™¨ä¸­å®ŒæˆéªŒè¯å³å¯
- **API è°ƒç”¨å¤±è´¥**: ç¡®ä¿æµè§ˆå™¨çª—å£ä¿æŒæ‰“å¼€çŠ¶æ€

### Docker è¿è¡Œ
- **å®¹å™¨å¯åŠ¨å¤±è´¥**: æ£€æŸ¥æ˜¯å¦åˆ†é…è¶³å¤Ÿçš„å…±äº«å†…å­˜ `--shm-size=2g`
- **Chrome å´©æºƒ**: ç¡®ä¿ä½¿ç”¨äº† `--security-opt seccomp:unconfined`
- **403 é”™è¯¯**: åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶å¯èƒ½éœ€è¦æ‰‹åŠ¨éªŒè¯ï¼Œå»ºè®®å…ˆç”¨å¯è§†æ¨¡å¼å®ŒæˆéªŒè¯
- **å†…å­˜ä¸è¶³**: Chrome åœ¨å®¹å™¨ä¸­éœ€è¦æ›´å¤šå†…å­˜ï¼Œå»ºè®®è‡³å°‘ 2GB

### ç¯å¢ƒå˜é‡
- **HEADLESS=true**: æ— å¤´æ¨¡å¼ï¼Œé€‚ç”¨äºæœåŠ¡å™¨
- **AUTO_BROWSER=true**: å¯ç”¨è‡ªåŠ¨æµè§ˆå™¨
- **DEBUG=true**: å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡º

## ğŸ³ Docker éƒ¨ç½²

### å¿«é€Ÿå¯åŠ¨

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡ (ä¿®æ”¹ .env æ–‡ä»¶)
# AUTO_BROWSER=true
# HEADLESS=true
# DEBUG=true

# 2. æ„å»ºå¹¶å¯åŠ¨ (é¦–æ¬¡æ„å»ºéœ€è¦5-10åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…)
docker-compose up -d

# 3. æŸ¥çœ‹æ„å»ºå’Œè¿è¡Œæ—¥å¿—
docker-compose logs -f cursor-bridge

# 4. åœæ­¢æœåŠ¡
docker-compose down
```

### â±ï¸ æ„å»ºæ—¶é—´è¯´æ˜

Docker é¦–æ¬¡æ„å»ºéœ€è¦ï¼š
- ğŸ“¦ **ä¸‹è½½åŸºç¡€é•œåƒ**: ~1-2åˆ†é’Ÿ
- ğŸ› ï¸ **å®‰è£…ç³»ç»Ÿä¾èµ–**: ~2-3åˆ†é’Ÿ
- ğŸ“¦ **å®‰è£… Node.js ä¾èµ–**: ~3-5åˆ†é’Ÿ
- ğŸ—ï¸ **æ€»è®¡æ—¶é—´**: çº¦5-10åˆ†é’Ÿ (å–å†³äºç½‘ç»œé€Ÿåº¦)

**ğŸ’¡ æç¤º**: æ„å»ºè¿‡ç¨‹ä¸­å¦‚æœå¡åœ¨ npm å®‰è£…æ­¥éª¤ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ã€‚

### Docker å‘½ä»¤

```bash
# æ„å»ºé•œåƒ
docker build -t cursor-bridge .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name cursor-bridge \
  -p 8000:8000 \
  -e AUTO_BROWSER=true \
  -e HEADLESS=true \
  --shm-size=2g \
  cursor-bridge

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs -f cursor-bridge
```

### è®¿é—®åœ°å€

```bash
# ç›´æ¥è®¿é—® API
curl -X POST http://localhost:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{"model": "claude-sonnet-4-20250514", "messages": [{"role": "user", "content": "Hello"}], "stream": true}'

# æŸ¥çœ‹ä½¿ç”¨è¯´æ˜
open http://localhost:8000
```

## ğŸ—ï¸ æ¶æ„è¯´æ˜

æœ¬é¡¹ç›®é‡‡ç”¨æ··åˆæ¶æ„ï¼š
- **Node.js æœåŠ¡å™¨**: æä¾› OpenAI å…¼å®¹æ¥å£
- **è‡ªåŠ¨æµè§ˆå™¨**: Puppeteer è‡ªåŠ¨åŒ–æµè§ˆå™¨æ“ä½œ
- **æ³¨å…¥è„šæœ¬**: åœ¨çœŸå®æµè§ˆå™¨ç¯å¢ƒä¸­æ‹¦æˆª Cursor API
- **è½®è¯¢æœºåˆ¶**: æœåŠ¡å™¨ä¸æµè§ˆå™¨é—´çš„é€šä¿¡æ¡¥æ¢
- **Docker æ”¯æŒ**: å®¹å™¨åŒ–éƒ¨ç½²ï¼Œæ”¯æŒæ— å¤´æ¨¡å¼